# ËÇ°Á•®ÈóÆÈ¢òÂ§ßÂêàÈõÜüòÇ



## ÁâàÊú¨1

![image-20190821214334919](README.assets/image-20190821214334919.png)

```cpp
// Ëøô‰∏™ÊÄùË∑ØÂ•ΩÂÉè‰∏çÂ§™ÂÉèÂä®ÊÄÅËßÑÂàí
// 1 2 4 3 6
// 1‰π∞Ëøõ6ÂçñÂá∫==1‰π∞Ëøõ2ÂçñÂá∫ ÁÑ∂Âêé2Âèà‰π∞Ëøõ4ÂçñÂá∫ ÁÑ∂Âêé4‰π∞Ëøõ3ÂçñÂá∫ ÁÑ∂Âêé3‰π∞Ëøõ6ÂçñÂá∫
// 1->4ÁßØÁ¥Ø‰∫Ü3ÂÖÉ„ÄÇ 4->3ÊçüÂ§±‰∫Ü1ÂÖÉ ËøòÊúâ2ÂÖÉ>0
// Â¶ÇÊûú Â∫èÂàóÊòØ 1 2 4 0 6
// ÈÇ£‰πà 4->0ÊçüÂ§±‰∫Ü4ÂÖÉ 1->4ÁßØÁ¥Ø‰∫Ü3ÂÖÉ Ëøò‰ªñÂ¶à‰∫è‰∫Ü1ÂÖÉ
// ÈÇ£Âπ≤ËÑÜÂâçÈù¢ÁöÑ‰∫§ÊòìÈÉΩÁÆó‰∫Ü(1->2->4)   ‰ªé0ÂºÄÂßãÈáçÊñ∞ÁßØÁ¥Ø
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int cur=0;
        int ans=0;
        for(int i=1;i<prices.size();i++){
            cur=max(0,cur+prices[i]-prices[i-1]);
            ans=max(ans,cur);
        }
        return ans;
    }
};
```

```cpp
// Ëøô‰∏™ÊòØÂä®ÊÄÅËßÑÂàíËΩ¨Êç¢ËøáÊù•ÁöÑ
// ÂÖàÁúãÊúÄÁªàÁâàÊú¨ 
// ÁÑ∂ÂêéÁúã‰∏ÄÊ≠•‰∏ÄÊ≠•ÊÄé‰πàÊé®ËøáÊù•ÁöÑ
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        if(!prices.size())return 0;
        int buy=-prices[0];
        int ans=0;
        int sell=0;
        for(int i=1;i<prices.size();i++){
            sell=buy+prices[i];
            ans=max(ans,sell);
            buy=max(0-prices[i],buy);
        }
        return ans;
    }
};
/*
Á¨¨‰∏ÄÊ≠•
dp[i][1][0]Ë°®Á§∫‰∏ÄÁßçÁä∂ÊÄÅÁöÑÊúÄÂ§ßÂà©Ê∂¶ Ôºå‰ªÄ‰πàÁä∂ÊÄÅÂë¢Ôºü
Â∞±ÊòØÂΩìÂâçÊòØÁ¨¨iÂ§© ËøòÊúâ‰∏ÄÊ¨°Ë¥≠‰π∞ËÇ°Á•®ÁöÑÊú∫‰ºö ÁõÆÂâçÊâã‰∏äÊúâ0Âº†Â∑≤ÁªèË¥≠‰π∞ÁöÑËÇ°Á•® ËøôÁßçÁä∂ÊÄÅ
ÊåâÁÖßÈ¢òÁõÆÁöÑÊÑèÊÄù Âè™Êúâ‰∏ÄÊ¨°‰π∞ÂçñÊú∫‰ºö ‰πüÂ∞±ÊòØË¥≠‰π∞ËÇ°Á•®ÁöÑÊú∫‰ºöÊúÄÂ§ßÊòØ1 ÊâãÂ§¥ÁöÑËÇ°Á•®Êï∞ÈáèÊúÄÂ§ß‰πüÊòØ1
üòÇ
*/
/*
Ê†πÊçÆ‰∏äËæπÁöÑÊèèËø∞ÂèØ‰ª•ÂÜôÂá∫‰∏ãËæπÁöÑË°®ËææÂºè
È¶ñÂÖàËøòÊúâ‰∏ÄÊ¨°Ë¥≠‰π∞Êú∫‰ºöÁöÑÊó∂ÂÄô d[i][1][0]ËÇØÂÆöÊòØ0
d[i][0][1]Ë°®Á§∫Á¨¨iÂ§©Êâã‰∏äÊúâ‰∏Ä‰∏™ËÇ°Á•®ÔºåÈÇ£Ëøô‰∏™Áä∂ÊÄÅÊÄé‰πàËΩ¨ÁßªÂë¢Ôºü
Á¨¨iÂ§©Êâã‰∏äÁöÑËÇ°Á•®ÂèØËÉΩÊòØÁ¨¨iÂ§©‰π∞ÁöÑ ‰πüÂèØËÉΩ‰∏çÊòØÁ¨¨iÂ§©‰π∞ÁöÑ
Â¶ÇÊûúÊòØÁ¨¨iÂ§©‰π∞ÁöÑ dp[i][0][1]=dp[i][1][0]-prices[i]
Âê¶ÂàôËØ¥ÊòéÁ¨¨i-1Â§©ÁöÑÊó∂ÂÄôÊâã‰∏äÂ∞±Â∑≤ÁªèÊúâ‰∏Ä‰∏™ËÇ°Á•®‰∫Ü Âç≥dp[i-1][0][1]

ÈÇ£‰πàÂØπ‰∫édp[i][0][0]Âë¢ Á¨¨iÂ§©ÁöÑÊó∂ÂÄôÊ≤°ÊúâËÇ°Á•®Ôºå‰πü‰∏çËÉΩ‰π∞ËÇ°Á•®
ÈÇ£ÂèØËÉΩÁ¨¨iÂ§©ÊääËÇ°Á•®Âçñ‰∫Ü‰πüÂèØËÉΩÊòØÁ¨¨i-1Â§©‰πãÂâçÁöÑÊüê‰∏ÄÂ§©ËÇ°Á•®Â∞±Ê≤°Êúâ‰∫Ü
Â¶ÇÊûúÊòØÂêéËÄÖ dp[i][0][0]ËÇØÂÆöÁ≠â‰∫é0
*/
for(int i=1;i<prices.size();i++){
    dp[i][1][0] = 0;// ÈìÅÂÆöÁöÑ  ÂØπ‰∫éÊâÄ‰ª•i dp[i][1][0]==0
    dp[i][0][1] =max( dp[i][1][0] - prices[i], dp[i-1][0][1]);
    dp[i][0][0] = dp[i-1][0][1] + prices[i];
}
/*
ÂØπ‰∏äËæπÁöÑËøõË°åÊï¥ÁêÜ Êó¢ÁÑ∂dp[i][1][0]ÂßãÁªà=0
Â∞±‰ª£ÂÖ•
*/
for(int i=1;i<prices.size();i++){
    dp[i][0][1] =max( 0 - prices[i], dp[i-1][0][1]);
    dp[i][0][0] = dp[i-1][0][1] + prices[i];
}
/*
ÂØπ‰∏äËæπÁöÑÁªßÁª≠Êï¥ÁêÜÔºåÂèëÁé∞dp[i][j][k]‰∏≠ j ÂßãÁªàÊòØ0 
ÊâÄ‰ª•ËØ¥ÊòéËøô‰∏™jÂØπÁä∂ÊÄÅÊ≤°ÊúâÂΩ±Âìç
ÂéªÊéâ
*/
for(int i=1;i<prices.size();i++){
    dp[i][1] =max( 0 - prices[i], dp[i-1][1]);
    dp[i][0] = dp[i-1][1] + prices[i];
}
/*
ÁªßÁª≠ÂåñÁÆÄ
Â∞±ÊòØ‰∫§Êç¢‰∫ÜËØ≠Âè•ÁöÑÈ°∫Â∫èÔºåÂÖ∂ÂÆûÊó†ÊâÄË∞ì„ÄÇ
*/
for(int i=1;i<prices.size();i++){
    dp[i][0] = dp[i-1][1] + prices[i];
    dp[i][1] =max( 0 - prices[i], dp[i-1][1]);
}
/*
ÂèëÁé∞ Á¨¨iÂ§©Âè™‰æùËµñÁ¨¨i-1ÁöÑÁä∂ÊÄÅ
ÊòæÁÑ∂ÂèØ‰ª•Á©∫Èó¥‰ºòÂåñ
Áõ¥Êé•Áî®Êñ∞ÁöÑÂÄºË¶ÜÁõñËÄÅÁöÑÂÄº
*/
for(int i=1;i<prices.size();i++){
    sell=buy+prices[i];
    buy=max(0-prices[i],buy);
}

```





## ÁâàÊú¨2

![d](README.assets/image-20190821232925800.png)



Áä∂ÊÄÅËΩ¨ÁßªÊñπÁ®ã`dp[i][0]=max(dp[i-1][1]+prices[i],dp[i-1][0])` `dp[i][1]=max(dp[i-1][0]-prices[i],dp[i-1][1]);`

`dp[i][0]`Ë°®Á§∫Á¨¨iÂ§©Êâã‰∏äÊ≤°ÊúâËÇ°Á•®

`dp[i][1]`Ë°®Á§∫Á¨¨iÂ§©Êâã‰∏äÊúâËÇ°Á•®

```cpp
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        if(!prices.size())return 0;
        int ans=0;
        vector<vector<int>>dp(prices.size(),vector<int>(2,0));
        dp[0][0]=0;
        dp[0][1]=-prices[0];
        for(int i=1;i<prices.size();i++){
            dp[i][0]=max(dp[i-1][1]+prices[i],dp[i-1][0]);
            dp[i][1]=max(dp[i-1][0]-prices[i],dp[i-1][1]);
            ans=max(ans,dp[i][0]);
        }
        return ans;
    }
};
```

ÂèëÁé∞Á¨¨iÂ§©ÁöÑÁä∂ÊÄÅÂíåÂè™Á¨¨i-1Â§©ÊúâÂÖ≥ÊâÄ‰ª•ÂèØ‰ª•‰ºòÂåñÁ©∫Èó¥

```cpp
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        if(!prices.size())return 0;
        int ans=0;
        int has=-prices[0];
        int none=0;
        for(int i=1;i<prices.size();i++){
            int pre_none=none;
            none=max(has+prices[i],none);
            has=max(pre_none-prices[i],has);
            ans=max(ans,none);
        }
        return ans;
    }
};
```



