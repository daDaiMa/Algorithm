# è‚¡ç¥¨é—®é¢˜å¤§åˆé›†ğŸ˜‚



#### ç‰ˆæœ¬1

![image-20190821214334919](README.assets/image-20190821214334919.png)

```cpp
// è¿™ä¸ªæ€è·¯å¥½åƒä¸å¤ªåƒåŠ¨æ€è§„åˆ’
// 1 2 4 3 6
// 1ä¹°è¿›6å–å‡º==1ä¹°è¿›2å–å‡º ç„¶å2åˆä¹°è¿›4å–å‡º ç„¶å4ä¹°è¿›3å–å‡º ç„¶å3ä¹°è¿›6å–å‡º
// 1->4ç§¯ç´¯äº†3å…ƒã€‚ 4->3æŸå¤±äº†1å…ƒ è¿˜æœ‰2å…ƒ>0
// å¦‚æœ åºåˆ—æ˜¯ 1 2 4 0 6
// é‚£ä¹ˆ 4->0æŸå¤±äº†4å…ƒ 1->4ç§¯ç´¯äº†3å…ƒ è¿˜ä»–å¦ˆäºäº†1å…ƒ
// é‚£å¹²è„†å‰é¢çš„äº¤æ˜“éƒ½ç®—äº†(1->2->4)   ä»0å¼€å§‹é‡æ–°ç§¯ç´¯
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int cur=0;
        int ans=0;
        for(int i=1;i<prices.size();i++){
            cur=max(0,cur+prices[i]-prices[i-1]);
            ans=max(ans,cur);
        }
        return ans;
    }
};
```

```cpp
// è¿™ä¸ªæ˜¯åŠ¨æ€è§„åˆ’è½¬æ¢è¿‡æ¥çš„
// å…ˆçœ‹æœ€ç»ˆç‰ˆæœ¬ 
// ç„¶åçœ‹ä¸€æ­¥ä¸€æ­¥æ€ä¹ˆæ¨è¿‡æ¥çš„
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        if(!prices.size())return 0;
        int buy=-prices[0];
        int ans=0;
        int sell=0;
        for(int i=1;i<prices.size();i++){
            sell=buy+prices[i];
            ans=max(ans,sell);
            buy=max(0-prices[i],buy);
        }
        return ans;
    }
};
/*
ç¬¬ä¸€æ­¥
dp[i][1][0]è¡¨ç¤ºä¸€ç§çŠ¶æ€çš„æœ€å¤§åˆ©æ¶¦ ï¼Œä»€ä¹ˆçŠ¶æ€å‘¢ï¼Ÿ
å°±æ˜¯å½“å‰æ˜¯ç¬¬iå¤© è¿˜æœ‰ä¸€æ¬¡è´­ä¹°è‚¡ç¥¨çš„æœºä¼š ç›®å‰æ‰‹ä¸Šæœ‰0å¼ å·²ç»è´­ä¹°çš„è‚¡ç¥¨ è¿™ç§çŠ¶æ€
æŒ‰ç…§é¢˜ç›®çš„æ„æ€ åªæœ‰ä¸€æ¬¡ä¹°å–æœºä¼š ä¹Ÿå°±æ˜¯è´­ä¹°è‚¡ç¥¨çš„æœºä¼šæœ€å¤§æ˜¯1 æ‰‹å¤´çš„è‚¡ç¥¨æ•°é‡æœ€å¤§ä¹Ÿæ˜¯1
ğŸ˜‚
*/
/*
æ ¹æ®ä¸Šè¾¹çš„æè¿°å¯ä»¥å†™å‡ºä¸‹è¾¹çš„è¡¨è¾¾å¼
é¦–å…ˆè¿˜æœ‰ä¸€æ¬¡è´­ä¹°æœºä¼šçš„æ—¶å€™ d[i][1][0]è‚¯å®šæ˜¯0
d[i][0][1]è¡¨ç¤ºç¬¬iå¤©æ‰‹ä¸Šæœ‰ä¸€ä¸ªè‚¡ç¥¨ï¼Œé‚£è¿™ä¸ªçŠ¶æ€æ€ä¹ˆè½¬ç§»å‘¢ï¼Ÿ
ç¬¬iå¤©æ‰‹ä¸Šçš„è‚¡ç¥¨å¯èƒ½æ˜¯ç¬¬iå¤©ä¹°çš„ ä¹Ÿå¯èƒ½ä¸æ˜¯ç¬¬iå¤©ä¹°çš„
å¦‚æœæ˜¯ç¬¬iå¤©ä¹°çš„ dp[i][0][1]=dp[i][1][0]-prices[i]
å¦åˆ™è¯´æ˜ç¬¬i-1å¤©çš„æ—¶å€™æ‰‹ä¸Šå°±å·²ç»æœ‰ä¸€ä¸ªè‚¡ç¥¨äº† å³dp[i-1][0][1]

é‚£ä¹ˆå¯¹äºdp[i][0][0]å‘¢ ç¬¬iå¤©çš„æ—¶å€™æ²¡æœ‰è‚¡ç¥¨ï¼Œä¹Ÿä¸èƒ½ä¹°è‚¡ç¥¨
é‚£å¯èƒ½ç¬¬iå¤©æŠŠè‚¡ç¥¨å–äº†ä¹Ÿå¯èƒ½æ˜¯ç¬¬i-1å¤©ä¹‹å‰çš„æŸä¸€å¤©è‚¡ç¥¨å°±æ²¡æœ‰äº†
å¦‚æœæ˜¯åè€… dp[i][0][0]è‚¯å®šç­‰äº0
*/
for(int i=1;i<prices.size();i++){
    dp[i][1][0] = 0;// é“å®šçš„  å¯¹äºæ‰€ä»¥i dp[i][1][0]==0
    dp[i][0][1] =max( dp[i][1][0] - prices[i], dp[i-1][0][1]);
    dp[i][0][0] = dp[i-1][0][1] + prices[i];
}
/*
å¯¹ä¸Šè¾¹çš„è¿›è¡Œæ•´ç† æ—¢ç„¶dp[i][1][0]å§‹ç»ˆ=0
å°±ä»£å…¥
*/
for(int i=1;i<prices.size();i++){
    dp[i][0][1] =max( 0 - prices[i], dp[i-1][0][1]);
    dp[i][0][0] = dp[i-1][0][1] + prices[i];
}
/*
å¯¹ä¸Šè¾¹çš„ç»§ç»­æ•´ç†ï¼Œå‘ç°dp[i][j][k]ä¸­ j å§‹ç»ˆæ˜¯0 
æ‰€ä»¥è¯´æ˜è¿™ä¸ªjå¯¹çŠ¶æ€æ²¡æœ‰å½±å“
å»æ‰
*/
for(int i=1;i<prices.size();i++){
    dp[i][1] =max( 0 - prices[i], dp[i-1][1]);
    dp[i][0] = dp[i-1][1] + prices[i];
}
/*
ç»§ç»­åŒ–ç®€
å°±æ˜¯äº¤æ¢äº†è¯­å¥çš„é¡ºåºï¼Œå…¶å®æ— æ‰€è°“ã€‚
*/
for(int i=1;i<prices.size();i++){
    dp[i][0] = dp[i-1][1] + prices[i];
    dp[i][1] =max( 0 - prices[i], dp[i-1][1]);
}
/*
å‘ç° ç¬¬iå¤©åªä¾èµ–ç¬¬i-1çš„çŠ¶æ€
æ˜¾ç„¶å¯ä»¥ç©ºé—´ä¼˜åŒ–
ç›´æ¥ç”¨æ–°çš„å€¼è¦†ç›–è€çš„å€¼
*/
for(int i=1;i<prices.size();i++){
    sell=buy+prices[i];
    buy=max(0-prices[i],buy);
}

```

